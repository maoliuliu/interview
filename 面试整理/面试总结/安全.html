1、xss攻击
  XSS 攻击是页面被注入了恶意的代码；攻击者通过在目标网站上注入恶意脚本，使之在用户的浏览器上运行。利用这些恶意脚本，攻击者可获取用户的敏感信息如 Cookie、SessionID 等，进而危害数据安全。

  存储型 XSS
    存储型 XSS 的攻击步骤：

    攻击者将恶意代码提交到目标网站的数据库中。
    用户打开目标网站时，网站服务端将恶意代码从数据库取出，拼接在 HTML 中返回给浏览器。
    用户浏览器接收到响应后解析执行，混在其中的恶意代码也被执行。
    恶意代码窃取用户数据并发送到攻击者的网站，或者冒充用户的行为，调用目标网站接口执行攻击者指定的操作。
    这种攻击常见于带有用户保存数据的网站功能，如论坛发帖、商品评论、用户私信等。

  反射型 XSS
    反射型 XSS 的攻击步骤：

    攻击者构造出特殊的 URL，其中包含恶意代码。
    用户打开带有恶意代码的 URL 时，网站服务端将恶意代码从 URL 中取出，拼接在 HTML 中返回给浏览器。
    用户浏览器接收到响应后解析执行，混在其中的恶意代码也被执行。
    恶意代码窃取用户数据并发送到攻击者的网站，或者冒充用户的行为，调用目标网站接口执行攻击者指定的操作。
    反射型 XSS 跟存储型 XSS 的区别是：存储型 XSS 的恶意代码存在数据库里，反射型 XSS 的恶意代码存在 URL 里。

    反射型 XSS 漏洞常见于通过 URL 传递参数的功能，如网站搜索、跳转等。

    由于需要用户主动打开恶意的 URL 才能生效，攻击者往往会结合多种手段诱导用户点击。

    POST 的内容也可以触发反射型 XSS，只不过其触发条件比较苛刻（需要构造表单提交页面，并引导用户点击），所以非常少见。

   DOM 型 XSS
    DOM 型 XSS 的攻击步骤：

    攻击者构造出特殊的 URL，其中包含恶意代码。
    用户打开带有恶意代码的 URL。
    用户浏览器接收到响应后解析执行，前端 JavaScript 取出 URL 中的恶意代码并执行。
    恶意代码窃取用户数据并发送到攻击者的网站，或者冒充用户的行为，调用目标网站接口执行攻击者指定的操作。
  DOM 型 XSS 跟前两种 XSS 的区别：DOM 型 XSS 攻击中，取出和执行恶意代码由浏览器端完成，属于前端 JavaScript 自身的安全漏洞，而其他两种 XSS 都属于服务端的安全漏洞。

  XSS 攻击的预防
    通过前面的介绍可以得知，XSS 攻击有两大要素：
      * 攻击者提交恶意代码。
      * 浏览器执行恶意代码。

  1、在使用 .innerHTML、.outerHTML、document.write() 时要特别小心，不要把不可信的数据作为 HTML 插到页面上，而应尽量使用 .textContent、.setAttribute() 等。
  2、HTTP-only Cookie: 禁止 JavaScript 读取某些敏感 Cookie，攻击者完成 XSS 注入后也无法窃取此 Cookie。
  3、输入过滤或者 插入转义

2、CSRF
    跨站请求伪造：攻击者诱导受害者进入第三方网站，在第三方网站中，向被攻击网站发送跨站请求。利用受害者在被攻击网站已经获取的注册凭证，绕过后台的用户验证，达到冒充用户对被攻击的网站执行某项操作的目的。
    一个典型的CSRF攻击有着如下的流程：

      * 受害者登录a.com，并保留了登录凭证（Cookie）。
      * 攻击者引诱受害者访问了b.com。
      * b.com 向 a.com 发送了一个请求：a.com/act=xx。浏览器会默认携带a.com的Cookie。
      * a.com接收到请求后，对请求进行验证，并确认是受害者的凭证，误以为是受害者自己发送的请求。
      * a.com以受害者的名义执行了act=xx。
      * 攻击完成，攻击者在受害者不知情的情况下，冒充受害者，让a.com执行了自己定义的操作。

    防护策略
      CSRF通常从第三方网站发起，被攻击的网站无法防止攻击发生，只能通过增强自己网站针对CSRF的防护能力来提升安全性。
      阻止不明外域的访问
        同源检测：在HTTP协议中，每一个异步请求都会携带两个Header，用于标记来源域名 Origin Header、Referer Header
        Samesite Cookie
      提交时要求附加本域才能获取的信息
        CSRF Token
        双重Cookie验证

  CSRF Token的防护策略分为三个步骤：
    1、将CSRF Token输出到页面中： 用户打开页面的时候，服务器需要给这个用户生成一个Token，该Token通过加密算法对数据进行加密，一般Token都包括随机字符串和时间戳的组合，显然在提交时Token不能再放在Cookie中了，否则又会被攻击者冒用
    2、页面提交的请求携带这个Token
    3、服务器验证Token是否正确

